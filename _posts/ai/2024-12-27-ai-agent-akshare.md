# AI æ™ºèƒ½åˆ†æåŠ©æ‰‹ - åŸºäº LLM çš„ Akshare æ•°æ®åˆ†æå·¥å…·

## ğŸ¯ é¡¹ç›®æ„¿æ™¯

å°†å¤æ‚çš„é‡‘èæ•°æ®åˆ†æå˜å¾—ç®€å•ï¼é€šè¿‡è‡ªç„¶è¯­è¨€äº¤äº’ï¼Œè®©æ¯ä¸ªäººéƒ½èƒ½è½»æ¾è·å–å’Œåˆ†æé‡‘èæ•°æ®ã€‚

---

### **èƒŒæ™¯**

`Akshare` https://akshare.akfamily.xyz/ æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å¼€æºé‡‘èæ•°æ®æ¥å£åº“ï¼Œæ¶µç›–äº†è‚¡ç¥¨ã€åŸºé‡‘ã€æœŸè´§ç­‰å¤šä¸ªé¢†åŸŸçš„æ•°æ®ä¿¡æ¯ã€‚é€šè¿‡å…¶æ¥å£ï¼Œç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°è·å–å®æ—¶å¸‚åœºæ•°æ®å’Œå†å²æ•°æ®ã€‚ä¸ºäº†ç®€åŒ–ç”¨æˆ·æŸ¥è¯¢æµç¨‹ï¼ŒåŒæ—¶å¢å¼ºçµæ´»æ€§å’Œæ™ºèƒ½åŒ–ï¼Œæˆ‘ä»¬å¸Œæœ›åˆ©ç”¨ LLMï¼ˆå¤§è¯­è¨€æ¨¡å‹ï¼‰çš„ ReAct Agent æ–¹æ³•ï¼Œè‡ªåŠ¨è§£æ Akshare çš„æ¥å£æ–‡æ¡£ï¼Œå®ç°è‡ªåŠ¨åŒ–æ•°æ®æŸ¥è¯¢å’Œæ™ºèƒ½æ¨ç†ã€‚

é€šè¿‡å¼•å…¥ **ReAct (Reasoning and Acting)** æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç”¨æˆ·çš„è‡ªç„¶è¯­è¨€é—®é¢˜æ‹†è§£ä¸ºé€»è¾‘æ¨ç†ã€æ¥å£é€‰æ‹©ã€å‚æ•°å¡«å……ä»¥åŠæ•°æ®æŸ¥è¯¢æ“ä½œï¼Œä»è€Œä¸ºç”¨æˆ·æä¾›é«˜æ•ˆä¸”å‡†ç¡®çš„æŸ¥è¯¢ç»“æœã€‚

---

### **ç³»ç»Ÿç›®æ ‡**

- è§£æ Akshare çš„æ¥å£æ–‡æ¡£ï¼ˆè‚¡ç¥¨ã€åŸºé‡‘ã€æœŸè´§ç­‰ï¼‰ï¼Œç”Ÿæˆå¤šä¸ª Agentï¼Œåˆ†åˆ«è´Ÿè´£ä¸åŒé¢†åŸŸçš„æ•°æ®æŸ¥è¯¢ã€‚
  - è‚¡ç¥¨å·¥å…·æ•°é‡ï¼š310 (https://akshare.akfamily.xyz/data/stock/stock.html)
  - æœŸè´§å·¥å…·æ•°é‡ï¼š44 (https://akshare.akfamily.xyz/data/futures/futures.html) 
  - å…¬å‹ŸåŸºé‡‘å·¥å…·æ•°é‡ï¼š58 (https://akshare.akfamily.xyz/data/fund/fund_public.html)
  - ç§å‹ŸåŸºé‡‘å·¥å…·æ•°é‡ï¼š14 (https://akshare.akfamily.xyz/data/fund/fund_private.html)
- åŸºäºç”¨æˆ·çš„è‡ªç„¶è¯­è¨€è¾“å…¥ï¼Œè‡ªåŠ¨æ¨ç†é€‰æ‹©åˆé€‚çš„ Agent å’Œæ¥å£æ–¹æ³•ã€‚
- è‡ªåŠ¨ç”ŸæˆæŸ¥è¯¢ä»£ç ï¼Œè°ƒç”¨ Akshare æ¥å£å¹¶è¿”å›ç»“æœã€‚
- æä¾›æ˜“äºæ‰©å±•çš„ Python å®ç°ï¼Œæ–¹ä¾¿åç»­æ–°å¢åŠŸèƒ½æˆ–æ¥å£ã€‚
- æ”¯æŒä¸­æ–‡ã€è‹±æ–‡ç­‰è¾“å…¥ã€‚
- æ¨¡å‹å¢å¼ºï¼šæ”¯æŒOllamaï¼ŒDeepseekï¼ŒQwenï¼ŒOpenAI ç­‰æ¨¡å‹ã€‚

---

### **ç”¨æˆ·ä½“éªŒç¤ºä¾‹**

```
ğŸ¤–ï¼šæˆ‘æ˜¯æ™ºèƒ½é‡‘èåˆ†æåŠ©æ‰‹ï¼Œå¯ä»¥æä¾›è‚¡ç¥¨ã€åŸºé‡‘ã€æœŸè´§çš„ä¿¡æ¯ï¼Œæœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨ï¼Ÿ
ğŸ‘¨ï¼šä¸­å›½é“¶è¡Œæœ€æ–°çš„ä»·æ ¼ï¼Ÿ
ğŸ¤–ï¼šä¸­å›½é“¶è¡Œçš„æœ€æ–°è‚¡ä»·ä¸ºï¼š 5.47

ğŸ‘¨ï¼šå…¬å‹ŸåŸºé‡‘ä¸­é‡‘é¢æœ€å¤§çš„æ˜¯è°ï¼Ÿ
ğŸ¤–ï¼šæ˜“æ–¹è¾¾åŸºé‡‘ç®¡ç†æœ‰é™å…¬å¸æ˜¯å…¬å‹ŸåŸºé‡‘ä¸­é‡‘é¢æœ€å¤§çš„å…¬å¸ï¼Œå…¶ç®¡ç†è§„æ¨¡ä¸º 19940.44äº¿å…ƒã€‚

ğŸ‘¨ï¼šèºçº¹é’¢ï¼Œç°åœ¨æ˜¯ä»€ä¹ˆä»·æ ¼ï¼Ÿ
ğŸ¤–ï¼šèºçº¹é’¢æœŸè´§å¸‚åœºçš„å½“å‰ä»·æ ¼ï¼š 3266.0ï¼Œ æœ€æ–°æ—¥æœŸï¼š 2024-12-27
```

![gpt-4o-2024-08-06](/experience/assets/images/posts/ai/akshare/gpt-4o-2024-08-06.gif)

---

### **è®¾è®¡æ¶æ„**

ä»¥ä¸‹æ˜¯ç³»ç»Ÿçš„æ¨¡å—åŒ–è®¾è®¡ï¼š

```
ç”¨æˆ·è¾“å…¥ -> è‡ªç„¶è¯­è¨€ç†è§£ (LLM) -> æ¨ç†é€‰æ‹© (ReAct Agent)
		|
		+-> æ¥å£è§£æå™¨ (è§£æ Akshare æ–‡æ¡£)
		|
		+-> åŠ¨æ€ä»£ç ç”Ÿæˆå™¨ (ç”ŸæˆæŸ¥è¯¢ä»£ç )
		|
		+-> æŸ¥è¯¢æ‰§è¡Œå™¨ (è°ƒç”¨ Akshare æ¥å£)
		|
		+-> ç»“æœå¤„ç†å™¨ (æ ¼å¼åŒ–ä¸è¿”å›ç»“æœ)
```

---

### **åŠŸèƒ½æ‰©å±•**

1. **ç”¨æˆ·äº¤äº’**ï¼šé›†æˆåˆ° Web æˆ– CLI ç•Œé¢ï¼Œä½¿ç”¨ç»˜å›¾å·¥å…·(å¦‚ Matplotlib)å¯¹è¡Œæƒ…æ•°æ®è¿›è¡Œå¯è§†åŒ–ã€‚
2. **Dockeréƒ¨ç½²**ï¼šæ”¯æŒDockeréƒ¨ç½²ï¼Œæ–¹ä¾¿éƒ¨ç½²åˆ°æœåŠ¡å™¨ã€‚

---

### **æ ¸å¿ƒç»„ä»¶**

1. **æ¥å£è§£æå™¨**
   
   - å°† Akshare å®˜æ–¹æ–‡æ¡£ä¸‹è½½ä¿å­˜åœ¨æœ¬åœ°ï¼Œè‡ªåŠ¨æå–æ¥å£ä¿¡æ¯ï¼ˆåŒ…æ‹¬åŠŸèƒ½ã€å‚æ•°ã€ç¤ºä¾‹ç­‰ï¼‰ã€‚
2. **ReAct Agent è®¾è®¡**
   
   - **Agent æ± **ï¼šæ ¹æ®æ¥å£åˆ†ç±»ï¼ˆè‚¡ç¥¨ã€åŸºé‡‘ã€æœŸè´§ç­‰ï¼‰ï¼Œåˆ›å»ºå¤šä¸ª Agentï¼Œåˆ†åˆ«å¤„ç†ä¸åŒé¢†åŸŸçš„æŸ¥è¯¢è¯·æ±‚ã€‚
   - **æ¨ç†ä¸é€‰æ‹©**ï¼šé€šè¿‡ LLM ç†è§£ç”¨æˆ·é—®é¢˜ï¼Œå¹¶é€‰æ‹©é€‚å½“çš„ Agent åŠæ¥å£ã€‚
   - **ä»£ç ç”Ÿæˆä¸æ‰§è¡Œ**ï¼šæ ¹æ®é€‰å®šçš„æ¥å£åŠ¨æ€ç”Ÿæˆ Python æŸ¥è¯¢ä»£ç ï¼Œå¹¶è¿è¡Œè·å–ç»“æœã€‚
3. **æŸ¥è¯¢ä¸åé¦ˆ**
   
   - è‡ªåŠ¨å¤„ç†æŸ¥è¯¢ç»“æœï¼ŒåŒ…æ‹¬æ ¼å¼åŒ–ã€è¿‡æ»¤ã€èšåˆç­‰ã€‚
   - ä»¥è¡¨æ ¼æˆ–å¯è§†åŒ–å½¢å¼è¿”å›æŸ¥è¯¢ç»“æœï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚

---

### **ç¯å¢ƒé…ç½®**

**å·²éªŒè¯Python ç‰ˆæœ¬ 3.11**
å»ºè®®ä½¿ç”¨conda æˆ–è€… venv åˆ›å»ºè™šæ‹Ÿç¯å¢ƒæ¥è¿è¡Œï¼Œé¿å…ä¾èµ–åŒ…å†²çªã€‚

#### 1. å…‹éš†é¡¹ç›®

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/IndigoBlueInChina/Auto-GPT-Stock.git
cd Auto-GPT-Stock
```

#### 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

```bash
python -m venv venv
source venv/bin/activate  # Windows: .\venv\Scripts\activate
```

#### 3. é…ç½®ç¯å¢ƒå˜é‡-LLMå‚æ•°

é¦–å…ˆåˆ›å»ºå¹¶é…ç½® `.env` æ–‡ä»¶ï¼š

```bash
# åˆ›å»º .env æ–‡ä»¶
cp demo.env .env

# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œè®¾ç½®ä½ çš„ OpenAI API Key
OPENAI_API_KEY=sk-your-api-key-here
```

#### 4. å®‰è£…ä¾èµ–

ä¾èµ–ç®¡ç†å·¥å…·ä½¿ç”¨ `poetry`ï¼Œå®‰è£…ä¾èµ–åŒ…ï¼Œèƒ½å¤Ÿæœ‰æ•ˆè§£å†³ä¾èµ–åŒ…å†²çªé—®é¢˜ã€‚

```bash
pip install poetry
poetry install
```

#### 5. è¿è¡Œç¨‹åº

```bash
python main.py

ğŸ¤–ï¼šæˆ‘æ˜¯æ™ºèƒ½é‡‘èåˆ†æåŠ©æ‰‹ï¼Œå¯ä»¥æä¾›è‚¡ç¥¨ã€åŸºé‡‘ã€æœŸè´§çš„ä¿¡æ¯ï¼Œæœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨ï¼Ÿ
```

## æ¨¡å‹èƒ½åŠ›æ¯”è¾ƒ

| æ¨¡å‹\é—®é¢˜| è‚¡ç¥¨é—®é¢˜| åŸºé‡‘é—®é¢˜|æœŸè´§é—®é¢˜|
| --- | --- | --- | --- |
| o1-mini-2024-09-12  | å¤šè½®å¾—å‡ºç»“æœ | æ²¡æœ‰å¾—åˆ°ç»“æœ | æ²¡æœ‰å¾—åˆ°ç»“æœ |
| gpt-4o-2024-08-06 | ä¸€è½®å¾—åˆ°ç»“æœ | ä¸€è½®å¾—åˆ°ç»“æœ | äºŒè½®å¾—åˆ°ç»“æœ |
| claude-3-haiku-20240307 | å¤šè½®æœªå¾—åˆ°ç»“æœ | å‡ºé”™  | NA |
| qwen2.5-32b-instruct | å¤šè½®å¾—åˆ°ç»“æœ | å¤šè½®å¾—åˆ°ç»“æœ | æ‰¾åˆ°å·¥å…·ï¼Œå¤šè½®æ²¡æœ‰å¾—åˆ°ç»“æœ |
| deepseek-v3 | ä¸€è½®å¾—åˆ°ç»“æœ | ä¸€è½®å¾—åˆ°ç»“æœ | ä¸€è½®å¾—åˆ°ç»“æœ |


![o1-mini-2024-09-12](/experience/assets/images/posts/ai/akshare/o1-mini-2024-09-12.mp4)

![gpt-4o-2024-08-06](/experience/assets/images/posts/ai/akshare/gpt-4o-2024-08-06.mp4)

![claude-3-haiku-20240307](/experience/assets/images/posts/ai/akshare/claude-3-haiku-20240307.mp4)

![qwen2.5-32b-instruct](/experience/assets/images/posts/ai/akshare/qwen2.5-32b-instruct.mp4)

![deepseek-v3](/experience/assets/images/posts/ai/akshare/deepseek-v3.mp4)
